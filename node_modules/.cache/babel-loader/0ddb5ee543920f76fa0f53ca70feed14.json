{"ast":null,"code":"var _jsxFileName = \"/Users/yangcao/WebstormProjects/jarvis-web/src/GubangPage.js\";\nimport React from \"react\";\nimport \"./GubangPage.css\";\nlet listAllUrl = \"https://admin.gbhome.com/api/v4/common/3in1/discovery?pageSize=10\";\nlet zlColorMap = {\n  \"独家研报\": \"tomato\",\n  \"游资锦囊\": \"slateblue\"\n};\n\nclass GubangPage extends React.Component {\n  constructor(props) {\n    super(props);\n  }\n\n  render() {\n    return React.createElement(\"div\", {\n      className: \"GubangPage\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 18\n      },\n      __self: this\n    }, React.createElement(\"h2\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 19\n      },\n      __self: this\n    }, \"\\u80A1\\u5E2E\\uFF0C\\u9884\\u671F\\u5DEE\\u5C31\\u662F\\u751F\\u4EA7\\u529B\"), React.createElement(\"div\", {\n      className: \"SubPage\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 20\n      },\n      __self: this\n    }, React.createElement(GubangInfoList, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 21\n      },\n      __self: this\n    })));\n  }\n\n}\n\nclass GubangInfoList extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      data: [],\n      page: 1,\n      totalPages: 0\n    };\n    this.getList(this.state.page);\n  }\n\n  async getList(pageNum) {\n    try {\n      let response = await fetch(listAllUrl + \"&pageNum=\" + pageNum);\n      let map = await response.json();\n      console.log(map);\n      this.setState({\n        data: map[\"data\"][\"records\"]\n      });\n      this.setState({\n        totalPages: map[\"pages\"]\n      });\n    } catch (e) {\n      console.log(\"Oops, error\", e);\n    }\n  }\n\n  renderList() {\n    var listElements = [];\n    this.state.data.forEach(record => {\n      let content = record[\"content\"] === \"\" ? record[\"summary\"] : record[\"content\"];\n      listElements.push(React.createElement(\"p\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 57\n        },\n        __self: this\n      }, record[\"title\"], React.createElement(\"sub\", {\n        style: {\n          color: zlColorMap[record[\"zlName\"]]\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 58\n        },\n        __self: this\n      }, record[\"zlName\"]), React.createElement(\"br\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 58\n        },\n        __self: this\n      }), React.createElement(\"div\", {\n        className: \"Snapshot\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 59\n        },\n        __self: this\n      }, content, React.createElement(\"br\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 60\n        },\n        __self: this\n      }))));\n    });\n    return listElements;\n  }\n\n  nextPage() {\n    this.setState({\n      page: this.state.page + 1\n    });\n  }\n\n  prePage() {\n    this.setState({\n      page: this.state.page - 1\n    });\n  }\n\n  renderPageChanger() {\n    return React.createElement(\"button\", {\n      onClick: this.nextPage(),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 82\n      },\n      __self: this\n    }, \"\\u4E0B\\u4E00\\u9875\");\n  }\n\n  render() {\n    return React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 88\n      },\n      __self: this\n    }, this.renderList(), React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 90\n      },\n      __self: this\n    }, this.renderPageChanger()));\n  }\n\n}\n\nexport default GubangPage;","map":{"version":3,"sources":["/Users/yangcao/WebstormProjects/jarvis-web/src/GubangPage.js"],"names":["React","listAllUrl","zlColorMap","GubangPage","Component","constructor","props","render","GubangInfoList","state","data","page","totalPages","getList","pageNum","response","fetch","map","json","console","log","setState","e","renderList","listElements","forEach","record","content","push","color","nextPage","prePage","renderPageChanger"],"mappings":";AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,OAAO,kBAAP;AAEA,IAAIC,UAAU,GAAG,mEAAjB;AACA,IAAIC,UAAU,GAAG;AACb,UAAQ,QADK;AAEb,UAAQ;AAFK,CAAjB;;AAKA,MAAMC,UAAN,SAAyBH,KAAK,CAACI,SAA/B,CAAyC;AAErCC,EAAAA,WAAW,CAACC,KAAD,EAAQ;AACf,UAAMA,KAAN;AACH;;AAEDC,EAAAA,MAAM,GAAG;AACL,WACI;AAAK,MAAA,SAAS,EAAC,YAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,4EADJ,EAEI;AAAK,MAAA,SAAS,EAAC,SAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACI,oBAAC,cAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MADJ,CAFJ,CADJ;AAQH;;AAfoC;;AAkBzC,MAAMC,cAAN,SAA6BR,KAAK,CAACI,SAAnC,CAA6C;AAEzCC,EAAAA,WAAW,CAACC,KAAD,EAAQ;AACf,UAAMA,KAAN;AACA,SAAKG,KAAL,GAAa;AACTC,MAAAA,IAAI,EAAE,EADG;AAETC,MAAAA,IAAI,EAAE,CAFG;AAGTC,MAAAA,UAAU,EAAE;AAHH,KAAb;AAKA,SAAKC,OAAL,CAAa,KAAKJ,KAAL,CAAWE,IAAxB;AACH;;AAED,QAAME,OAAN,CAAcC,OAAd,EAAuB;AACnB,QAAI;AACA,UAAIC,QAAQ,GAAG,MAAMC,KAAK,CAACf,UAAU,GAAC,WAAX,GAAuBa,OAAxB,CAA1B;AACA,UAAIG,GAAG,GAAG,MAAMF,QAAQ,CAACG,IAAT,EAAhB;AACAC,MAAAA,OAAO,CAACC,GAAR,CAAYH,GAAZ;AACA,WAAKI,QAAL,CAAc;AAACX,QAAAA,IAAI,EAAEO,GAAG,CAAC,MAAD,CAAH,CAAY,SAAZ;AAAP,OAAd;AACA,WAAKI,QAAL,CAAc;AAACT,QAAAA,UAAU,EAAEK,GAAG,CAAC,OAAD;AAAhB,OAAd;AACH,KAND,CAME,OAAMK,CAAN,EAAS;AACPH,MAAAA,OAAO,CAACC,GAAR,CAAY,aAAZ,EAA2BE,CAA3B;AACH;AACJ;;AAEDC,EAAAA,UAAU,GAAG;AACT,QAAIC,YAAY,GAAC,EAAjB;AACA,SAAKf,KAAL,CAAWC,IAAX,CAAgBe,OAAhB,CAAyBC,MAAD,IAAU;AAC9B,UAAIC,OAAO,GAAGD,MAAM,CAAC,SAAD,CAAN,KAAsB,EAAtB,GAA2BA,MAAM,CAAC,SAAD,CAAjC,GAA8CA,MAAM,CAAC,SAAD,CAAlE;AACAF,MAAAA,YAAY,CAACI,IAAb,CACI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACKF,MAAM,CAAC,OAAD,CADX,EACqB;AAAK,QAAA,KAAK,EAAE;AAACG,UAAAA,KAAK,EAAE3B,UAAU,CAACwB,MAAM,CAAC,QAAD,CAAP;AAAlB,SAAZ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SAAoDA,MAAM,CAAC,QAAD,CAA1D,CADrB,EACgG;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QADhG,EAEI;AAAK,QAAA,SAAS,EAAC,UAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACKC,OADL,EACa;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QADb,CAFJ,CADJ;AAQH,KAVD;AAWA,WAAOH,YAAP;AACH;;AAEDM,EAAAA,QAAQ,GAAG;AACP,SAAKT,QAAL,CAAc;AACVV,MAAAA,IAAI,EAAE,KAAKF,KAAL,CAAWE,IAAX,GAAkB;AADd,KAAd;AAGH;;AAEDoB,EAAAA,OAAO,GAAG;AACN,SAAKV,QAAL,CAAc;AACVV,MAAAA,IAAI,EAAE,KAAKF,KAAL,CAAWE,IAAX,GAAkB;AADd,KAAd;AAGH;;AAEDqB,EAAAA,iBAAiB,GAAG;AAChB,WACI;AAAQ,MAAA,OAAO,EAAE,KAAKF,QAAL,EAAjB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,4BADJ;AAGH;;AAEDvB,EAAAA,MAAM,GAAG;AACL,WACI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACK,KAAKgB,UAAL,EADL,EAEI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACK,KAAKS,iBAAL,EADL,CAFJ,CADJ;AAQH;;AAnEwC;;AAsE7C,eAAe7B,UAAf","sourcesContent":["import React from \"react\";\nimport \"./GubangPage.css\"\n\nlet listAllUrl = \"https://admin.gbhome.com/api/v4/common/3in1/discovery?pageSize=10\";\nlet zlColorMap = {\n    \"独家研报\": \"tomato\",\n    \"游资锦囊\": \"slateblue\"\n};\n\nclass GubangPage extends React.Component {\n\n    constructor(props) {\n        super(props);\n    }\n\n    render() {\n        return (\n            <div className='GubangPage'>\n                <h2>股帮，预期差就是生产力</h2>\n                <div className=\"SubPage\">\n                    <GubangInfoList />\n                </div>\n            </div>\n        )\n    }\n}\n\nclass GubangInfoList extends React.Component {\n\n    constructor(props) {\n        super(props);\n        this.state = {\n            data: [],\n            page: 1,\n            totalPages: 0\n        };\n        this.getList(this.state.page)\n    }\n\n    async getList(pageNum) {\n        try {\n            let response = await fetch(listAllUrl+\"&pageNum=\"+pageNum);\n            let map = await response.json();\n            console.log(map);\n            this.setState({data: map[\"data\"][\"records\"]})\n            this.setState({totalPages: map[\"pages\"]})\n        } catch(e) {\n            console.log(\"Oops, error\", e);\n        }\n    }\n\n    renderList() {\n        var listElements=[];\n        this.state.data.forEach((record)=>{\n            let content = record[\"content\"] === \"\" ? record[\"summary\"]: record[\"content\"];\n            listElements.push(\n                <p>\n                    {record[\"title\"]}<sub style={{color: zlColorMap[record[\"zlName\"]]}}>{record[\"zlName\"]}</sub><br/>\n                    <div className='Snapshot'>\n                        {content}<br/>\n                    </div>\n                </p>\n            )\n        });\n        return listElements;\n    }\n\n    nextPage() {\n        this.setState({\n            page: this.state.page + 1\n        })\n    }\n\n    prePage() {\n        this.setState({\n            page: this.state.page - 1\n        })\n    }\n\n    renderPageChanger() {\n        return (\n            <button onClick={this.nextPage()}>下一页</button>\n        )\n    }\n\n    render() {\n        return (\n            <div>\n                {this.renderList()}\n                <div>\n                    {this.renderPageChanger()}\n                </div>\n            </div>\n        );\n    }\n}\n\nexport default GubangPage;"]},"metadata":{},"sourceType":"module"}