{"ast":null,"code":"var _jsxFileName = \"/Users/yangcao/WebstormProjects/jarvis-web/src/ConfirmationPage.js\";\nimport React from 'react';\nimport \"./ConfirmationPage.css\";\nvar host = \"http://127.0.0.1:8000\"; // var host = \"http://118.25.41.14:8080\";\n\nclass ConfirmationPage extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      confirmationTemplateFile: null,\n      inputTemplateFile: null,\n      result: \"x\"\n    };\n    this.uploadConfirmationTemplate = this.uploadConfirmationTemplate.bind(this);\n    this.uploadInputTemplate = this.uploadInputTemplate.bind(this);\n    this.toBase64 = this.toBase64.bind(this);\n  }\n\n  uploadConfirmationTemplate(e) {\n    let reader = new FileReader();\n    let file = e.target.files[0];\n    reader.parent = this;\n\n    reader.onload = function (e) {\n      this.parent.httpUpload(this.result.split(',')[1], \"/upload_confirmation_template\");\n    };\n\n    reader.readAsDataURL(file);\n    this.setState({\n      confirmationTemplateFile: file\n    });\n  }\n\n  uploadInputTemplate(e) {\n    let reader = new FileReader();\n    let file = e.target.files[0];\n    reader.parent = this;\n\n    reader.onload = function (e) {\n      this.parent.httpUpload(this.result.split(',')[1], \"/upload_input_template\");\n    };\n\n    reader.readAsDataURL(file);\n    this.setState({\n      inputTemplateFile: file\n    });\n  }\n\n  execute() {\n    this.httpExecute(\"/execute_confirmation_merge\");\n  }\n\n  httpUpload(d, uri) {\n    var data = JSON.stringify({\n      \"data\": d\n    });\n    var xhr = new XMLHttpRequest();\n    xhr.withCredentials = true;\n    xhr.addEventListener(\"readystatechange\", function () {\n      if (this.readyState === 4) {\n        alert(\"上传成功！\");\n      }\n    });\n    console.log(host + uri);\n    xhr.open(\"POST\", host + uri);\n    xhr.setRequestHeader(\"Content-Type\", \"application/json\");\n    xhr.send(data);\n  }\n\n  httpExecute(uri) {\n    var xhr = new XMLHttpRequest();\n    xhr.withCredentials = true;\n    xhr.addEventListener(\"readystatechange\", function () {\n      if (this.readyState === 4) {\n        alert(\"执行成功！\");\n      }\n    });\n    console.log(host + uri);\n    xhr.open(\"GET\", host + uri);\n    xhr.setRequestHeader(\"Content-Type\", \"application/json\");\n    xhr.send();\n  }\n\n  toBase64(e) {\n    let reader = new FileReader();\n    let base64 = '';\n\n    reader.onload = function (e) {\n      base64 = this.result;\n    };\n\n    reader.readAsDataURL(e);\n    console.log(base64);\n    this.setState({\n      result: base64\n    });\n  }\n\n  render() {\n    return React.createElement(\"div\", {\n      className: \"ConfirmationPage\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 99\n      },\n      __self: this\n    }, React.createElement(\"h2\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 100\n      },\n      __self: this\n    }, \"Happy Confirmation Maker\"), React.createElement(\"br\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 101\n      },\n      __self: this\n    }), React.createElement(\"p\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 102\n      },\n      __self: this\n    }, \"\\u4E0A\\u4F20\\u51FD\\u8BC1\\u6A21\\u677F\", React.createElement(\"br\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 104\n      },\n      __self: this\n    }), React.createElement(\"br\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 104\n      },\n      __self: this\n    }), React.createElement(UploadButton, {\n      accept: \"application/vnd.ms-excel,application/vnd.openxmlformats-officedocument.spreadsheetml.sheet\",\n      onChange: this.uploadConfirmationTemplate,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 106\n      },\n      __self: this\n    }), React.createElement(\"br\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 110\n      },\n      __self: this\n    }), React.createElement(\"label\", {\n      className: \"UploadResult\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 111\n      },\n      __self: this\n    }, this.state.confirmationTemplateFile == null ? '未上传' : this.state.confirmationTemplateFile.name)), React.createElement(\"p\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 115\n      },\n      __self: this\n    }, \"\\u4E0A\\u4F20\\u8F93\\u5165\\u6A21\\u677F\", React.createElement(\"br\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 117\n      },\n      __self: this\n    }), React.createElement(\"br\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 117\n      },\n      __self: this\n    }), React.createElement(UploadButton, {\n      accept: \"application/vnd.ms-excel,application/vnd.openxmlformats-officedocument.spreadsheetml.sheet\",\n      onChange: this.uploadInputTemplate,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 119\n      },\n      __self: this\n    }), React.createElement(\"br\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 123\n      },\n      __self: this\n    }), React.createElement(\"label\", {\n      className: \"UploadResult\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 124\n      },\n      __self: this\n    }, this.state.inputTemplateFile == null ? '未上传' : this.state.inputTemplateFile.name)), React.createElement(\"p\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 128\n      },\n      __self: this\n    }, React.createElement(ExecuteButton, {\n      onClick: this.execute(),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 129\n      },\n      __self: this\n    })), React.createElement(\"br\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 133\n      },\n      __self: this\n    }), React.createElement(\"br\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 133\n      },\n      __self: this\n    }), React.createElement(\"br\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 133\n      },\n      __self: this\n    }), React.createElement(\"br\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 133\n      },\n      __self: this\n    }));\n  }\n\n}\n\nclass UploadButton extends React.Component {\n  constructor(props) {\n    super(props);\n    this.getFiles = this.getFiles.bind(this);\n    this.onChange = this.onChange.bind(this);\n  }\n\n  getFiles() {\n    let ans = [];\n    let files = this.refs.fileLoader.files;\n\n    for (let i = 0; i < files.length; i++) {\n      ans.push(files[i]);\n    }\n\n    return ans;\n  }\n\n  onChange() {\n    console.log(this.getFiles());\n  }\n\n  render() {\n    let accept = this.props.accept;\n    return React.createElement(\"label\", {\n      className: \"UploadButton\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 163\n      },\n      __self: this\n    }, \"\\u70B9\\u51FB\\u8FD9\\u91CC\\u4E0A\\u4F20\\u6587\\u4EF6\", React.createElement(\"input\", {\n      ref: \"fileLoader\",\n      onChange: this.props.onChange,\n      type: \"file\",\n      accept: accept,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 165\n      },\n      __self: this\n    }));\n  }\n\n}\n\nclass ExecuteButton extends React.Component {\n  render() {\n    return React.createElement(\"label\", {\n      className: \"ExecuteButton\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 174\n      },\n      __self: this\n    }, React.createElement(\"button\", {\n      onClick: this.props.onClick,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 175\n      },\n      __self: this\n    }, \"GoGoGo!\"));\n  }\n\n}\n\nexport default ConfirmationPage;","map":{"version":3,"sources":["/Users/yangcao/WebstormProjects/jarvis-web/src/ConfirmationPage.js"],"names":["React","host","ConfirmationPage","Component","constructor","props","state","confirmationTemplateFile","inputTemplateFile","result","uploadConfirmationTemplate","bind","uploadInputTemplate","toBase64","e","reader","FileReader","file","target","files","parent","onload","httpUpload","split","readAsDataURL","setState","execute","httpExecute","d","uri","data","JSON","stringify","xhr","XMLHttpRequest","withCredentials","addEventListener","readyState","alert","console","log","open","setRequestHeader","send","base64","render","name","UploadButton","getFiles","onChange","ans","refs","fileLoader","i","length","push","accept","ExecuteButton","onClick"],"mappings":"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","sourcesContent":["import React from 'react';\nimport \"./ConfirmationPage.css\"\n\nvar host = \"http://127.0.0.1:8000\";\n// var host = \"http://118.25.41.14:8080\";\n\nclass ConfirmationPage extends React.Component {\n    constructor(props) {\n        super(props);\n        this.state = {\n            confirmationTemplateFile: null,\n            inputTemplateFile: null,\n            result: \"x\",\n        };\n\n        this.uploadConfirmationTemplate = this.uploadConfirmationTemplate.bind(this);\n        this.uploadInputTemplate = this.uploadInputTemplate.bind(this);\n        this.toBase64 = this.toBase64.bind(this);\n    }\n\n    uploadConfirmationTemplate(e) {\n        let reader = new FileReader();\n        let file = e.target.files[0];\n        reader.parent = this;\n        reader.onload = function(e) {\n            this.parent.httpUpload(this.result.split(',')[1], \"/upload_confirmation_template\");\n        };\n        reader.readAsDataURL(file);\n        this.setState({\n            confirmationTemplateFile: file,\n        });\n    }\n\n    uploadInputTemplate(e) {\n        let reader = new FileReader();\n        let file = e.target.files[0];\n        reader.parent = this;\n        reader.onload = function(e) {\n            this.parent.httpUpload(this.result.split(',')[1], \"/upload_input_template\");\n        };\n        reader.readAsDataURL(file);\n        this.setState({\n            inputTemplateFile: file,\n        });\n    }\n\n    execute() {\n        this.httpExecute(\"/execute_confirmation_merge\")\n    }\n\n    httpUpload(d, uri) {\n        var data = JSON.stringify({\"data\":d});\n        var xhr = new XMLHttpRequest();\n        xhr.withCredentials = true;\n        xhr.addEventListener(\"readystatechange\", function() {\n            if(this.readyState === 4) {\n                alert(\"上传成功！\");\n            }\n        });\n\n        console.log(host+uri);\n        xhr.open(\"POST\", host + uri);\n        xhr.setRequestHeader(\"Content-Type\", \"application/json\");\n\n        xhr.send(data);\n    }\n\n    httpExecute(uri) {\n        var xhr = new XMLHttpRequest();\n        xhr.withCredentials = true;\n        xhr.addEventListener(\"readystatechange\", function() {\n            if(this.readyState === 4) {\n                alert(\"执行成功！\");\n            }\n        });\n\n        console.log(host+uri);\n        xhr.open(\"GET\", host + uri);\n        xhr.setRequestHeader(\"Content-Type\", \"application/json\");\n\n        xhr.send();\n    }\n\n    toBase64(e) {\n        let reader = new FileReader();\n        let base64 = '';\n        reader.onload = function(e) {\n            base64 = this.result\n        };\n        reader.readAsDataURL(e);\n        console.log(base64);\n        this.setState({\n            result: base64\n        })\n    }\n\n    render() {\n        return (\n            <div className='ConfirmationPage'>\n                <h2>Happy Confirmation Maker</h2>\n                <br/>\n                <p>\n                    上传函证模板\n                    <br/><br/>\n                    {/*TODO: confirmation template upload*/}\n                    <UploadButton\n                        accept = {\"application/vnd.ms-excel,application/vnd.openxmlformats-officedocument.spreadsheetml.sheet\"}\n                        onChange = {this.uploadConfirmationTemplate}\n                    />\n                    <br/>\n                    <label className='UploadResult'>\n                        {this.state.confirmationTemplateFile == null ? '未上传': this.state.confirmationTemplateFile.name}\n                    </label>\n                </p>\n                <p>\n                    上传输入模板\n                    <br/><br/>\n                    {/*TODO: confirmation template upload*/}\n                    <UploadButton\n                        accept = {\"application/vnd.ms-excel,application/vnd.openxmlformats-officedocument.spreadsheetml.sheet\"}\n                        onChange = {this.uploadInputTemplate}\n                    />\n                    <br/>\n                    <label className='UploadResult'>\n                        {this.state.inputTemplateFile == null ? '未上传': this.state.inputTemplateFile.name}\n                    </label>\n                </p>\n                <p>\n                    <ExecuteButton\n                        onClick = {this.execute()}\n                    />\n                </p>\n                <br/><br/><br/><br/>\n\n            </div>\n        )\n    }\n}\n\nclass UploadButton extends React.Component {\n    constructor(props) {\n        super(props);\n        this.getFiles = this.getFiles.bind(this);\n        this.onChange = this.onChange.bind(this)\n    }\n\n    getFiles() {\n        let ans = [];\n        let files = this.refs.fileLoader.files;\n        for (let i = 0; i < files.length; i++) {\n            ans.push(files[i])\n        }\n        return ans\n    }\n\n    onChange() {\n        console.log(this.getFiles())\n    }\n\n    render() {\n        let accept = this.props.accept;\n        return (\n            <label className=\"UploadButton\">\n                点击这里上传文件\n                <input ref='fileLoader' onChange={this.props.onChange} type=\"file\" accept={accept} />\n            </label>\n        );\n    }\n}\n\nclass ExecuteButton extends React.Component {\n    render() {\n        return (\n            <label className='ExecuteButton'>\n                <button onClick={this.props.onClick}>GoGoGo!</button>\n            </label>\n        )\n    }\n}\n\nexport default ConfirmationPage;\n\n\n"]},"metadata":{},"sourceType":"module"}