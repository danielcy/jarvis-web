{"ast":null,"code":"var _jsxFileName = \"/Users/yangcao/WebstormProjects/jarvis-web/src/QuantificationPage.js\";\nimport React from \"react\";\nimport \"./QuantificationPage.css\";\nimport Datetime from 'react-datetime';\nimport \"react-datetime/css/react-datetime.css\";\nimport moment from 'moment';\nimport 'moment/locale/zh-cn';\nlet host = \"http://127.0.0.1:8000\"; // let host = \"http://118.25.41.14:8091\";\n\nclass QuantificationPage extends React.Component {\n  constructor(props) {\n    super(props);\n  }\n\n  render() {\n    return React.createElement(\"div\", {\n      className: \"QuantificationPage\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 19\n      },\n      __self: this\n    }, React.createElement(\"span\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 20\n      },\n      __self: this\n    }, React.createElement(\"h2\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 21\n      },\n      __self: this\n    }, \"\\u91CF\\u5316\\u5C0F\\u5E73\\u53F0\"), React.createElement(SelectorTool, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 22\n      },\n      __self: this\n    })));\n  }\n\n}\n\nclass SelectorTool extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      ts: new Date().getTime(),\n      selector_list: [],\n      current_selector: \"\",\n      launched: false,\n      launched_id: 0\n    };\n    this.dateOnChange = this.dateOnChange.bind(this);\n    this.getSelectors = this.getSelectors.bind(this);\n    this.changeSelector = this.changeSelector.bind(this);\n    this.getSelectors();\n  }\n\n  dateOnChange(e) {\n    this.setState({\n      ts: e.valueOf()\n    });\n  }\n\n  async getSelectors() {\n    try {\n      let uri = \"/selector/get_selectors\";\n      let response = await fetch(host + uri);\n      let map = await response.json();\n      this.setState({\n        selector_list: map['result']\n      });\n    } catch (e) {\n      console.log(\"Oops, error\", e);\n    }\n  }\n\n  async launchSelectors() {\n    try {\n      let uri = \"\";\n    } catch (e) {\n      console.log(\"Oops, error\", e);\n    }\n  }\n\n  changeSelector(e) {\n    this.setState({\n      current_selector: e.target.value\n    });\n  }\n\n  renderResult() {\n    if (this.state.launched) {\n      return \"正在运行中，请稍等...\";\n    } else {\n      return \"尚未运行\";\n    }\n  }\n\n  render() {\n    return React.createElement(\"div\", {\n      className: \"SelectorTool\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 88\n      },\n      __self: this\n    }, React.createElement(\"span\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 89\n      },\n      __self: this\n    }, React.createElement(\"h3\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 90\n      },\n      __self: this\n    }, \"\\u9009\\u80A1\\u5C0F\\u5DE5\\u5177\"), \"\\u65F6\\u95F4: \", React.createElement(Datetime, {\n      locale: \"zh-cn\",\n      onChange: this.dateOnChange,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 91\n      },\n      __self: this\n    }), React.createElement(\"br\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 92\n      },\n      __self: this\n    }), \"\\u9009\\u80A1\\u7B56\\u7565:\", React.createElement(\"select\", {\n      onChange: this.changeSelector,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 94\n      },\n      __self: this\n    }, React.createElement(\"option\", {\n      value: \"未选择\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 95\n      },\n      __self: this\n    }, \"\\u672A\\u9009\\u62E9\"), this.state.selector_list.map(selector => {\n      return React.createElement(\"option\", {\n        value: selector,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 98\n        },\n        __self: this\n      }, selector);\n    })), React.createElement(\"br\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 102\n      },\n      __self: this\n    }), React.createElement(\"br\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 103\n      },\n      __self: this\n    }), \"\\u7ED3\\u679C:\", React.createElement(\"br\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 105\n      },\n      __self: this\n    }), this.renderResult()));\n  }\n\n}\n\nexport default QuantificationPage;","map":{"version":3,"sources":["/Users/yangcao/WebstormProjects/jarvis-web/src/QuantificationPage.js"],"names":["React","Datetime","moment","host","QuantificationPage","Component","constructor","props","render","SelectorTool","state","ts","Date","getTime","selector_list","current_selector","launched","launched_id","dateOnChange","bind","getSelectors","changeSelector","e","setState","valueOf","uri","response","fetch","map","json","console","log","launchSelectors","target","value","renderResult","selector"],"mappings":"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","sourcesContent":["import React from \"react\";\nimport \"./QuantificationPage.css\"\nimport Datetime from 'react-datetime';\nimport \"react-datetime/css/react-datetime.css\";\nimport moment from 'moment';\nimport 'moment/locale/zh-cn';\n\nlet host = \"http://127.0.0.1:8000\";\n// let host = \"http://118.25.41.14:8091\";\n\nclass QuantificationPage extends React.Component {\n\n    constructor(props) {\n        super(props);\n    }\n\n    render() {\n        return (\n            <div className='QuantificationPage'>\n                <span>\n                    <h2>量化小平台</h2>\n                    <SelectorTool />\n                </span>\n            </div>\n        )\n    }\n}\n\nclass SelectorTool extends React.Component {\n    constructor(props) {\n        super(props);\n        this.state = {\n            ts: new Date().getTime(),\n            selector_list: [],\n            current_selector: \"\",\n            launched: false,\n            launched_id: 0\n        };\n        this.dateOnChange = this.dateOnChange.bind(this);\n        this.getSelectors = this.getSelectors.bind(this);\n        this.changeSelector = this.changeSelector.bind(this);\n        this.getSelectors()\n    }\n\n    dateOnChange(e) {\n        this.setState({\n            ts: e.valueOf()\n        });\n    }\n\n    async getSelectors() {\n        try {\n            let uri = \"/selector/get_selectors\";\n            let response = await fetch(host+uri);\n            let map = await response.json();\n            this.setState({\n                selector_list: map['result']\n            })\n        } catch(e) {\n            console.log(\"Oops, error\", e);\n        }\n    }\n\n    async launchSelectors() {\n        try {\n            let uri = \"\"\n        } catch (e) {\n            console.log(\"Oops, error\", e);\n        }\n    }\n\n    changeSelector(e) {\n        this.setState({\n            current_selector: e.target.value\n        })\n    }\n\n    renderResult() {\n        if (this.state.launched) {\n            return \"正在运行中，请稍等...\"\n        } else {\n            return \"尚未运行\"\n        }\n    }\n\n    render() {\n        return (\n            <div className='SelectorTool'>\n                <span>\n                    <h3>选股小工具</h3>\n                    时间: <Datetime locale=\"zh-cn\" onChange={this.dateOnChange}/>\n                    <br/>\n                    选股策略:\n                    <select onChange={this.changeSelector}>\n                        <option value={\"未选择\"}>未选择</option>\n                        {\n                            this.state.selector_list.map(selector => {\n                                return <option value={selector}>{selector}</option>\n                            })\n                        }\n                    </select>\n                    <br/>\n                    <br/>\n                    结果:\n                    <br/>\n                    {this.renderResult()}\n                </span>\n            </div>\n        )\n    }\n}\n\nexport default QuantificationPage;"]},"metadata":{},"sourceType":"module"}